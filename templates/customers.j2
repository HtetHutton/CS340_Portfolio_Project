<head>
    <title>Customers</title>
    <!-- Add link to css here --> 
    <!-- Add script language -->
</head>
<body>
<div id="browse">

<a href="/">Home</a> | <a href="pizzas">Pizzas</a> | <a href="orders">Orders</a> | <a href="employees">Employees</a>
<p></p> 

<h1>Customers</h1>
    <p></p> 
        <!-- Can include buttons here above the table -->

    <div id="search">
    <form id="searchCustomer" method="POST">
        <label><strong>Search for a customer by customer's first name OR last name:</strong></label>
    <input type="text" id="searchCustomerName" name="searchCustomerName" placeholder="Search by customer's first or last name">
    <input class="btn" type="submit" name="searchCustomer" value="Search">
    </form>
    </div>
    
    {% if search_results %}
        <fieldset>
        {{ "Search Results: " }}
    <table border="1" cellpadding="5">
    <thead>
        <tr>
        {% for key in search_results[0].keys() %}
        <th> {{ key }} </th>
            {% endfor %}
        </tr>
    <tbody>
    
    {% for r in search_results %}
        <tr>
        {% for key in r.keys() %}
        <td>{{r[key]}}</td> 
        {% endfor %}
        </tr>
    {% endfor %}
    </table>
    <a href='/customers'><input class="btn" type="button" value="Clear Search Results"></a>
    </fieldset>
    <p>&nbsp;</p>
    {% endif %}
    
    <p></p>

<table border="1" cellpadding="5">
    <thead>
    <tr>
        <!-- Iterate through each key in the first entry to get the
        column name -->
        {% for key in Customers[0].keys() %}

        <!-- Create a <th> tag with the key inside of it, this will be
        our header row -->
        <th>{{ key }}</th>

        <!-- End of this for loop -->
        {% endfor %}
    </tr>
    <tbody>

    <!-- Now, iterate through every customer -->
    {% for customer in Customers %}
    <tr>
        <!-- Then iterate through every key in the current customer dictionary -->
        {% for key in customer.keys() %}

        <!-- Create a <td> element with the value of that key in it -->
        <td>{{customer[key]}}</td>
        {% endfor %}
    </tr>
    {% endfor %}
    </table>
    </div>
<p>&nbsp;</p>

    <div id="insert">
    <form id="insertCustomer" method="POST">
    <legend><strong>Add Customer</strong></legend>
    <fieldset class="field">
        <label> customer_first_name </label> <input type="text" class="form-control" id="cfname" name="cfname" pattern="[A-Za-z]{1,}" placeholder="" required>
        <label> customer_last_name </label> <input type="text" class="form-control" id="clname" name="clname" pattern="[A-Za-z]{1,}" placeholder="" required>
        <label> email </label> <input type="text" id="cemail" name="cemail" placeholder="" required>
        <label> customer_phone </label> <input type="text" id="cphone" name="cphone" placeholder="" required>
    </fieldset>
        <input class="btn" type="submit" name="addCustomer" id="addCustomer" value="Add Customer">
        <input class="btn" type="button" value="Cancel" onClick=""> <!-- need to put a function here to return to browse -->
    </form>
    </div>

    <div id="delete">
    <form id="deleteCustomer" method="POST">
    <legend><strong>Delete Customer</strong></legend>
    <fieldset class="field">
        <label> customer_id </label> 
            <select id="cid" name="cid"> <!-- for-loop to iterate and show only customer_id on drop down menu -->
            {% for item in Customers_id %}
            <option value={{item['customer_id']}} selected> {{item['customer_id']}} </option>
            {% endfor %} 
            </select>
    </fieldset>
        <input class="btn" type="submit" id="deleteCustomer" name="deleteCustomer" value="Delete Customer">
        <input class="btn" type="button" value="Cancel" onClick=""> <!-- need to put a function here to return to browse -->
    </form>
    </div>

    <div id="update">
    <form id="updateCustomer" method="POST">
    <legend><strong>Update Customer</strong></legend>
    <fieldset class="field">
        <label> customer_id </label> 
            <select id="cid" name="cid"> <!-- for-loop to iterate and show only customer_id on drop down menu -->
            {% for item in Customers_id %}
            <option value={{item['customer_id']}} selected> {{item['customer_id']}} </option>
            {% endfor %} 
            </select>
        <label> customer_first_name </label> <input type="text" class="form-control" id="cfname" name="cfname" pattern="[A-Za-z]{1,}" placeholder="" required>
        <label> customer_last_name </label> <input type="text" class="form-control" id="clname" name="clname" pattern="[A-Za-z]{1,}" placeholder="" required>
        <label> email </label> <input type="text" id="cemail" name="cemail" placeholder="" required>
        <label> customer_phone </label> <input type="text" name="cphone" placeholder="" required>
    </fieldset>
        <input class="btn" type="submit" id="updateCustomer" name="updateCustomer" value="Update Customer">
        <input class="btn" type="button" value="Cancel" onClick=""> <!-- need to put a function here to return to browse -->
    </form>
    </div>


    </body>